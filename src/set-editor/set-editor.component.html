<app-header
    [fileName]="fileName"
    [isIntro]="false"
    [numOfObjects]="numOfObjects"
    (add)="addObject()"
    (clear)="clearObjects()"
    (coordinates)="setCoordinateStyle($event)"
    (close)="closeFile()"
    (save)="saveFile()"
    (sort)="setSortingOption($event)">
</app-header>
<virtual-scroller
    *ngIf="!loading && (objectsEmitter | async) as objects; else loadingTemplate"
    [enableUnequalChildrenSizes]="true"
    [items]="objects"
    #scroll>
        <app-set-object
            *ngFor="let object of scroll.viewPortItems; trackBy: trackById"
            [coordinateStyle]="coordinateStyle"
            [levelObjectCategories]="levelObjectCategories"
            [object]="object"
            [stage]="stage"
            (delete)="deleteObject($event)">
        </app-set-object>
</virtual-scroller>
<ng-template #loadingTemplate>
    <div class="center">
        <mat-spinner></mat-spinner>
        <h1 class="mat-display-1 center">Loading...</h1>
    </div>
</ng-template>
<app-footer></app-footer>
