<app-header [isIntro]="false" [fileName]="fileName" [numOfObjects]="numOfObjects"></app-header>
<div class="content">
    <div class="fab-container">
        <button class="save mdc-fab mdc-fab--extended" (click)="saveFile()">
            <div class="mdc-fab__ripple"></div>
            <span class="material-icons mdc-fab__icon">save</span>
            <span class="mdc-fab__label">Save</span>
        </button>
        <button class="add mdc-fab mdc-fab--extended" (click)="addObject()">
            <div class="mdc-fab__ripple"></div>
            <span class="material-icons mdc-fab__icon">add</span>
            <span class="mdc-fab__label">Add</span>
        </button>
        <button class="add mdc-fab mdc-fab--extended" (click)="clearObjects()">
            <div class="mdc-fab__ripple"></div>
            <span class="material-icons mdc-fab__icon">delete</span>
            <span class="mdc-fab__label">Clear</span>
        </button>
    </div>
    <ng-container *ngIf="!loading; else loadingTemplate">
        <div 
            *ngIf="objectsEmitter | async as objects; else loadingTemplate"
            class="objects-container">
            <app-set-object 
                *ngFor="let object of objects"
                [levelObjectGroups]="levelObjectGroups"
                [object]="object"
                [stage]="stage"
                (deleteEvent)="onDelete($event)">
            </app-set-object>
        </div>
    </ng-container>
    <ng-template #loadingTemplate>
        <div class="center">
            <mat-spinner></mat-spinner>
            <h1 class="mat-display-1 center">Loading...</h1>
        </div>
    </ng-template>
</div>
<app-footer></app-footer>
